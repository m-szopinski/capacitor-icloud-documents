{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst ICloudDocs = registerPlugin('ICloudDocs', {\n    web: () => import('./web.js').then(m => new m.ICloudDocsWeb()),\n});\nexport * from './definitions';\nexport { ICloudDocs };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nimport fs from 'indexeddb-fs';\nexport class ICloudDocsWeb extends WebPlugin {\n    async echo(options) {\n        console.log('ECHO', options);\n        return options;\n    }\n    async readFile(options) {\n        console.log('Read iCloud file', options);\n        return fs.readFile(options.filePath).then((res) => {\n            return {\n                fileStream: res\n            };\n        });\n    }\n    async readFileB64(options) {\n        console.log('Read Base64 iCloud file', options);\n        return fs.readFile(options.filePath).then((res) => {\n            return {\n                fileStream: res\n            };\n        });\n    }\n    async removeFile(options) {\n        console.log('Remove iCloud file', options);\n        return fs.removeFile(options.filePath).then(() => {\n            return {\n                result: 'OK',\n                url: options.filePath\n            };\n        });\n    }\n    async writeFile(options) {\n        console.log('Write iCloud file', options);\n        return fs.writeFile(options.filePath, options.data).then(() => {\n            return {\n                result: 'OK',\n                url: options.filePath\n            };\n        });\n    }\n    async fileExist(options) {\n        console.log('Check if iCloud file exist', options);\n        return fs.exists(options.path).then((res) => {\n            return {\n                result: res,\n            };\n        });\n    }\n    async mkdir(options) {\n        console.log('Create iCloud directory', options);\n        return fs.createDirectory(options.path).then(() => {\n            return {\n                result: 'OK',\n                url: options.path\n            };\n        });\n    }\n    async stat(options) {\n        console.log('Stat of iCloud file', options);\n        return fs.details(options.path).then((res) => {\n            return {\n                type: res.directory ? 'Directory' : 'File',\n                size: 0,\n                modificationDate: res.createdAt.toString(),\n                creationDate: res.createdAt.toString()\n            };\n        });\n    }\n    async readdir(options) {\n        console.log('List iCloud files', options);\n        return fs.readDirectory(options.path).then((res) => {\n            return {\n                result: [...res.directories.map((d) => d.name), ...res.files.map((f) => f.name)]\n            };\n        });\n    }\n    async initUbiquitousContainer() {\n        console.log('Init iCloud container');\n        return new Promise((resolve) => {\n            resolve();\n        });\n    }\n    async syncToCloud(options) {\n        console.log('Sync iCloud file', options);\n        return { url: '' };\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin","fs"],"mappings":"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"}